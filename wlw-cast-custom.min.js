function insert(c,a,e){var i=p[0].cloneNode(!0),n=i.getElementsByTagName("div");n[0].innerHTML=a,n[1].innerHTML=e,nfi.insertBefore(i,p[c])}function diff(c,a){var e=Math.round(100*(cd[c]-pcd[c]))/100,i="±";e>0&&(i="+"),0>e&&(i="-",e=Math.abs(e)),a.innerHTML=a.innerHTML+' <span style="color:#ff0000;" class="font_small">('+i+e+")</span>"}var d=document;if(null==d.getElementById("wlw_custom")){var p1=d.querySelectorAll(".block_playdata_01_text"),ur=parseFloat(p1[0].innerHTML),wc=parseInt(p1[1].innerHTML),crc=parseInt(p1[2].innerHTML),wdc=parseInt(p1[3].innerHTML),p2=d.querySelectorAll(".block_playdata_02_text"),tp=parseFloat(p2[0].innerHTML),wp=parseFloat(p2[1].innerHTML),lp=parseFloat(p2[2].innerHTML),tn=parseFloat(p2[3].innerHTML),wn=parseFloat(p2[4].innerHTML),ln=parseFloat(p2[5].innerHTML),lc=0;tp-lp!=0&&(lc=parseInt(Math.round((wp-tp)*wc/(tp-lp))));var wr=0;wc+lc!=0&&(wr=Math.round(wc/(wc+lc)*100*10)/10);var kr=0;0!=wdc&&(kr=Math.round(crc/wdc*100)/100);for(var awr=0,awc=0,alc=0,cwra=[],cwca=[],clca=[],dci=[0,32,1,9,41,2,11,13,45,3,7,5,8,35,43,33,39,20,40,6,37,34],dcn=["サンドリヨン","アシェンプテル","吉備津彦","美猴","大聖","ピーター・ザ・キッド","シレネッタ","ミクサ","リン","リトル・アリス","アイアン・フック","スカーレット","かぐや","シャドウ・アリス","メロウ","闇吉備津","デス・フック","ドルミール","ツクヨミ","温羅","ヴァイス","ナイトメア・キッド"],i=0;i<dci.length;i++)cwra[dci[i]]=0,cwca[dci[i]]=0,clca[dci[i]]=0;var q=window.location.search.substring(1),ci=q.split("=")[1],pci="p"+ci,now=(new Date).getTime(),cd=[now,ur,wc,lc,wr,crc,wdc,kr,tp,wp,lp,tn,wn,ln],pcd=[0,0,0,0,0,0,0,0,0,0,0,0,0,0],ppcd=pcd.concat(),day=864e5,ex=new Date;if(ex.setTime(now+365*day),d.cookie)for(var c=d.cookie.split(";"),i=0;i<c.length;i++){var kv=c[i].trim().split("="),tpcd=unescape(kv[1]).split(":");if(isFinite(kv[0])){var twc=parseInt(tpcd[2]),tlc=parseInt(tpcd[3]),twr=0;twc+tlc!=0&&(twr=Math.round(twc/(twc+tlc)*100*10)/10),awc+=twc,alc+=tlc,cwra[kv[0]]=twr,cwca[kv[0]]=twc,clca[kv[0]]=tlc}kv[0]==ci&&(pcd=tpcd),kv[0]==pci&&(ppcd=unescape(kv[1]).split(":"))}awc=awc-parseInt(pcd[2])+wc,alc=alc-parseInt(pcd[3])+lc,awc+alc!=0&&(awr=Math.round(awc/(awc+alc)*100*10)/10),cwra[ci]=wr,cwca[ci]=wc,clca[ci]=lc,(cd[1]!=pcd[1]||cd[2]!=pcd[2]||cd[8]!=pcd[8]||cd[9]!=pcd[9]||cd[10]!=pcd[10])&&(d.cookie=ci+"="+escape(cd.join(":"))+"; expires="+ex.toUTCString());var base=new Date;base.setTime(pcd[0]),base.setHours(23),base.setMinutes(59),base.setSeconds(59),now>base.getTime()?d.cookie=pci+"="+escape(pcd.join(":"))+"; expires="+ex.toUTCString():pcd=ppcd;var fi=d.querySelector(".frame_inner"),nfi=fi.cloneNode(!0);nfi.id="wlw_custom";var p=nfi.querySelectorAll(".clearfix");insert(2,"敗北数",lc+'<span class="font_small">敗</span>'),insert(2,"勝率",wr+"%"),insert(4,"Kill Ratio",kr);for(var np1=nfi.querySelectorAll(".block_playdata_01_text"),i=0;7>i;i++)diff(i+1,np1[i]);for(var np2=nfi.querySelectorAll(".block_playdata_02_text"),i=0;6>i;i++)diff(i+8,np2[i]);insert(6,"全キャスト勝率",awr+'% <span class="font_small">('+awc+"勝"+alc+"敗)</span>");for(var i=0;i<dci.length;i++)cwca[dci[i]]+clca[dci[i]]>0&&insert(6,'<span class="font_90">'+dcn[i]+"</span>",cwra[dci[i]]+'% <span class="font_small">('+cwca[dci[i]]+"勝"+clca[dci[i]]+"敗)</span>");fi.parentNode.replaceChild(nfi,fi)}